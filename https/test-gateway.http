### Variables
@gatewayUrl = http://localhost:3000
@email = test@gateway.com
@password = password123

###############################################
# 1. Health Check Gateway
###############################################
GET {{gatewayUrl}}/health

###

###############################################
# 2. Root Gateway (info)
###############################################
GET {{gatewayUrl}}/

###

###############################################
# 3. REGISTER tramite Gateway (pubblico)
###############################################
# @name register
POST {{gatewayUrl}}/api/auth/register
Content-Type: application/json

{
    "email": "{{email}}",
    "password": "{{password}}",
    "name": "Test Gateway User"
}

###

###############################################
# 4. LOGIN tramite Gateway (pubblico)
###############################################
# @name login
POST {{gatewayUrl}}/api/auth/login
Content-Type: application/json

{
    "email": "{{email}}",
    "password": "{{password}}"
}

###

###############################################
# 5. PROTECTED ROUTE - Profile (con token)
# Esegui prima il LOGIN (#4) per ottenere il token
###############################################
GET {{gatewayUrl}}/api/users/profile
Authorization: Bearer {{login.response.body.tokens.accessToken}}

###

###############################################
# 6. PROTECTED ROUTE - Senza token (deve fallire)
###############################################
GET {{gatewayUrl}}/api/users/profile